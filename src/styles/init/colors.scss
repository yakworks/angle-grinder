/* ---------------------------------------------------------------------- */
/* Keep colors here with any Bulma overrides, midway down we run derived-variables from Bulma
/* see initial-variables for base overrides
/* ---------------------------------------------------------------------- */
// TODO https://blog.maximeheckel.com/posts/the-power-of-composition-with-css-variables/

@use "sass:map";
@use "../mixins/cssVars";

$light: $white-ter !default;
$light-invert: findColorInvert($light) !default;

$dark: $grey-darker !default;
$dark-invert: findColorInvert($dark) !default;

$scheme-main: $white !default;
$scheme-main-bis: $white-bis !default; // white-grey
$scheme-main-ter: $white-ter !default; // white-greyer
$scheme-invert: $black !default; //black
$scheme-invert-bis: $black-bis !default; //black-grey
$scheme-invert-ter: $black-ter !default; //black-greyer

$background: $scheme-main-ter !default;
$background-main: $scheme-main !default;

// Bulma's text colors
$text: rgba(0,0,0,0.9) !default;
$text-strong: $black-bis !default;
$text-invert: findColorInvert($text) !default;
$text-light: rgba(0,0,0,0.6) !default;

$text-lighter: $grey !default;

// borders
$border: $grey-lighter !default;
$border-hover: $grey-light !default;
$border-light: $grey-lightest !default;
$border-light-hover: $grey-light !default;


// $accent: #797bf2;
$azure: #5B9BD1;
$beige: #D2BD8E;
$bricky: #894550;

// --- Link colors ---

// $link: $blue !default;
// $link-invert: findColorInvert($link) !default;
// $link-light: findLightColor($link) !default;
// $link-dark: findDarkColor($link) !default;

$link-visited: $purple !default;

$link-hover: $grey-darker !default;
$link-hover-border: $grey-light !default;

$link-focus: $grey-darker !default;
$link-focus-border: $blue !default;

$link-active: $grey-darker !default;
$link-active-border: $grey-dark !default;

//** From huro **/
// FIXME replace these, here for now as it get things working
$fade-grey: #ededed;
$muted-grey: #999;

$colors_list : ("primary", "secondary", "accent", "link", "info", "success", "danger", "warning");

$colors: () !default;

@function create_bulma_color_list($color) {
  $list: (
    var(--color-#{$color}),
    var(--color-#{$color}-invert),
    cssVars.highlight(var(--color-#{$color})),
    var(--color-#{$color}-dark)
  );
  @return $list;
}

@each $color in $colors_list {
  $map: ();
  $map: map-merge($map, ($color: create_bulma_color_list($color)) );
  $colors: map-merge($colors, $map);
}

// more get added to this in Bulma's derived-variables.
// bulma spins through these and setups up classes prefixed with is.
// so this essentially sets up so we have a 'is-lighter' css class availiable for cards, toolbars etc
$custom-colors: null !default;

// override Bulma's colors in derived-variables
// @debug $unicorn-color-map;
$colors: map.deep-merge((
  "white": ($white, $black),
  "black": ($black, $white),
  "light": ($scheme-main-ter, $scheme-invert-bis),
  "dark": ($dark, $dark-invert),
  "lighter": ($scheme-main-bis, $scheme-invert-bis), //we add these and they are not normally part of bulma
  ), $colors
) !default;

// override Bulma's shades in derived-variables
$custom-shades: null !default;

$shades: mergeColorMaps((
  "scheme-main": $scheme-main,
  "scheme-main-bis": $scheme-main-bis,
  "scheme-main-ter": $scheme-main-ter,
  "scheme-invert": $scheme-invert,
  "scheme-invert-bis": $scheme-invert-bis,
  "scheme-invert-ter": $scheme-invert-ter,
  "black-bis": $black-bis,
  "black-ter": $black-ter,
  "grey-darker": $grey-darker,
  "grey-dark": $grey-dark,
  "grey": $grey,
  "grey-light": $grey-light,
  "grey-lighter": $grey-lighter,
  "white-ter": $white-ter,
  "white-bis": $white-bis),
  $custom-shades
) !default;

// Effects
// $shadow: 0 0.5em 1em -0.125em rgba($scheme-invert, 0.1), 0 0px 0 1px rgba($scheme-invert, 0.02) !default
$shadow: 0px 4px 16px rgba($scheme-invert, 0.12) !default;

//*** element and control colors
$icon-default-color: var(--color-contrast-medium) !default;

// side nav
$sidenav-background-color: var(--color-primary-dark) !default; //ends up as sidebar default
$sidenav-font-color: var(--color-primary-invert) !default;
$sidenav-nav-active-color: var(--color-secondary) !default;
$sidenav-nav-hover-color: $sidenav-nav-active-color !default;
$sidenav-overlay-background-color: rgba($sidenav-background-color, 0.2) !default;

//**** bulma/form/shared.sass  ****/
// $form-colors: $colors !default

// $input-color: $text-strong !default
$input-background-color: $scheme-main !default;
$input-border-color: $border !default;
// $input-height: $control-height !default
// $input-shadow: inset 0 0.0625em 0.125em rgba($scheme-invert, 0.05) !default
// $input-placeholder-color: bulmaRgba($input-color, 0.3) !default

// $input-hover-color: $text-strong !default
// $input-hover-border-color: $border-hover !default

// $input-focus-color: $text-strong !default
// $input-focus-border-color: $link !default
// $input-focus-box-shadow-size: 0 0 0 0.125em !default
// $input-focus-box-shadow-color: bulmaRgba($link, 0.25) !default

// $input-disabled-color: $text-light !default
// $input-disabled-background-color: $background !default
// $input-disabled-border-color: $background !default
// $input-disabled-placeholder-color: bulmaRgba($input-disabled-color, 0.3) !default

// $input-arrow: $link !default
$input-arrow: var(--color-primary) !default;

// $input-icon-color: $border !default
// $input-icon-active-color: $text !default

//---------------------------
// $input-border-color: $border !default
// $input-color: $text-strong !default
// $input-focus-border-color:  #66afe9 !default//BS = $input-border-focus
// $input-focus-border-color: $link !default
// $input-focus-box-shadow-color: rgba(red($ifoc-color), green($ifoc-color), blue($ifoc-color), .6);
// $input-focus-box-shadow-size: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px;
// $input-arrow: $primary !default
// $input-shadow: inset 0 0.0625em 0.125em rgba($scheme-invert, 0.05) !default
// $input-placeholder-color: rgba($input-color, 0.3) !default
// $input-icon-color: $border !default
// $input-icon-active-color: $text !default

//*** bulma/elements/button.sass colors ****/
// $button-color: $text-strong !default
// $button-background-color: $scheme-main !default
$button-background-color: $scheme-main-bis !default;
// $button-family: false !default

$button-border-color: $border !default;
// $button-border-width: $control-border-width !default

// $button-padding-vertical: calc(0.5em - #{$button-border-width}) !default
// $button-padding-horizontal: 1em !default

// $button-hover-color: $link-hover !default
// $button-hover-border-color: $link-hover-border !default

// $button-focus-color: $link-focus !default
// $button-focus-border-color: $link-focus-border !default
$button-focus-border-color: $button-border-color !default;
// $button-focus-box-shadow-size: 0 0 0 0.125em !default
// $button-focus-box-shadow-color: bulmaRgba($link, 0.25) !default

// $button-active-color: $link-active !default
// $button-active-border-color: $link-active-border !default

// $button-text-color: $text !default
// $button-text-decoration: underline !default
// $button-text-hover-background-color: $background !default
// $button-text-hover-color: $text-strong !default

// $button-ghost-background: none !default
// $button-ghost-border-color: transparent !default
// $button-ghost-color: $link !default
// $button-ghost-decoration: none !default
// $button-ghost-hover-color: $link !default
// $button-ghost-hover-decoration: underline !default

// $button-disabled-background-color: $scheme-main !default
// $button-disabled-border-color: $border !default
// $button-disabled-shadow: none !default
// $button-disabled-opacity: 0.5 !default

// $button-static-color: $text-light !default
// $button-static-background-color: $scheme-main-ter !default
// $button-static-border-color: $border !default

// $button-colors: $colors !default

//** Cards
$card-background-color: $scheme-main !default;
$card-shadow: $shadow !default;
// $card-radius: 0.25rem !default
$card-radius: $radius-large !default;
$card-border-color: $border !default;
$card-hr-color: $card-border-color !default;
